!function(t){var i={};function e(s){if(i[s])return i[s].exports;var h=i[s]={i:s,l:!1,exports:{}};return t[s].call(h.exports,h,h.exports,e),h.l=!0,h.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var h in t)e.d(s,h,function(i){return t[i]}.bind(null,h));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";function s(t,i){return{x:t.x*Math.cos(i)-t.y*Math.sin(i),y:t.x*Math.sin(i)+t.y*Math.cos(i)}}function h(t,i){const e=t.velocity.x-i.velocity.x,h=t.velocity.y-i.velocity.y;if(e*(i.x-t.x)+h*(i.y-t.y)>=0){const e=-Math.atan2(i.y-t.y,i.x-t.x),h=t.mass,r=i.mass,n=s(t.velocity,e),o=s(i.velocity,e),a={x:n.x*(h-r)/(h+r)+2*o.x*r/(h+r),y:n.y},l={x:o.x*(h-r)/(h+r)+2*n.x*r/(h+r),y:o.y},c=s(a,-e),d=s(l,-e);t.velocity.x=c.x,t.velocity.y=c.y,i.velocity.x=d.x,i.velocity.y=d.y}}function r(t,i){return Math.floor(Math.random()*(i-t+1)+t)}function n(){return"#"+Math.floor(16777215*Math.random()).toString(16)}function o(t,i,e,s){let h=e-t,r=s-i;return Math.sqrt(Math.pow(h,2)+Math.pow(r,2))}e.r(i);class a{constructor(t,i,e,s,h,r,n=!0){this.x=t,this.y=i,this.xSpeed=h,this.ySpeed=r,this.velocity={x:this.xSpeed,y:this.ySpeed},this.radius=e,this.color=s,this.mass=1,this.opacity=.2,this.wallCollision=n}draw(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),t.lineWidth=2,t.fillStyle=this.color,t.save(),t.globalAlpha=this.opacity,t.fill(),t.restore(),t.strokeStyle=this.color,t.stroke()}update(t,i,e){this.draw(t);for(let t=0;t<i.length;t++){if(this===i[t])continue;o(this.x,this.y,i[t].x,i[t].y)-this.radius-i[t].radius<0&&(h(this,i[t]),this.opacity=.6,i[t].opacity=.6)}this.opacity>.02&&(this.opacity-=.02,this.opacity=Math.max(0,this.opacity)),this.wallCollision?((this.x-this.radius<0||this.x+this.radius>=innerWidth)&&(this.velocity.x=-this.velocity.x),(this.y-this.radius<=0||this.y+this.radius>=innerHeight)&&(this.velocity.y=-this.velocity.y)):(this.x-this.radius>innerWidth&&(this.x=0-this.radius),this.x+this.radius<0&&(this.x=innerWidth+this.radius),this.y-this.radius>innerHeight&&(this.y=0-this.radius),this.y+this.radius<0&&(this.y=innerHeight+this.radius));if(o(this.x,this.y,e.x,e.y)-this.radius-e.radius<=0)return this.opacity=1,!0;this.x+=this.velocity.x,this.y+=this.velocity.y}}class l{constructor(t,i,e,s){this.x=t,this.y=i,this.speed=3,this.radius=e,this.color=s}draw(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),t.fillStyle=this.color,t.fill()}update(t,i,e){this.draw(t);const s=e.x-this.x,h=e.y-this.y,r=Math.atan2(h,s),n=Math.cos(r)*this.speed,o=Math.sin(r)*this.speed;(Math.abs(s)>2||Math.abs(h)>2)&&(i&&this.x+this.radius>=95&&s>2?this.x=95-this.radius:this.x+=n,this.y+=o)}}class c{constructor(t,i,e,s){this.x=t,this.y=i,this.width=e,this.height=s,this.fill=!1}draw(t){!0===this.fill?(t.fillStyle="#7bf977",t.fillRect(this.x,this.y,this.width,this.height)):(t.strokeStyle="#7bf977",t.strokeRect(this.x,this.y,this.width,this.height))}update(t,i){if(this.draw(t),i.x-i.radius>this.x&&i.y-i.radius>this.y&&i.y+i.radius<this.y+this.height)return this.fill=!0,!0;this.fill=!1}}function d(){p=[],g=null,w=!0,v=null,p=function(t){const i=[],e=t.objects();for(let s=0;s<e;s++){const e=t.radius();let h=t.x(e,105),r=t.y(e);const n=t.xSpeed(),l=t.ySpeed(),c=t.color();if(0!==s){let s=0;for(let n=0;n<i.length;n++){if(s>100){console.log("Not enough space for circles!");break}o(h,r,i[n].x,i[n].y)-e-i[n].radius<0&&(h=t.x(e,105),r=t.y(e),n=-1,s++)}}i.push(new a(h,r,e,c,n,l,t.wallCollision))}return i}(S[b]);const t=r(30,70),i=r(30,y.height-30);g=new l(t,i,30,"red");const e=y.width-100,s=y.height/2-80;return v=new c(e,s,100,160),"Initialized game objects."}function u(){return Math.floor(innerHeight/100+innerWidth/200)}const y=document.getElementById("canvas"),x=y.getContext("2d");y.width=innerWidth,y.height=innerHeight,y.style.background="#0c0c0c";const f=["#2185C5","#7ECEFD","#FFF6E5","#FF7F66"];let p,g,v,m,M={x:30,y:innerHeight/2},b=0,w=!0;const S=[{objects:()=>u(),radius:()=>60*Math.random()+15,x:(t,i)=>r(t+i,y.width-t),y:t=>r(t,y.height-t),xSpeed:()=>5*(Math.random()-.5),ySpeed:()=>5*(Math.random()-.5),color:()=>n()},{wallCollision:!1,objects:()=>u()+10,radius:()=>30,x:(t,i)=>r(t+i,y.width-t),y:t=>r(t,y.height-t),ySpeed:()=>8*(Math.random()-.5),xSpeed:()=>1*(Math.random()-.5),color:()=>function(t){return t[Math.floor(Math.random()*t.length)]}(f)},{objects:()=>u()+20,radius:()=>10,x:(t,i)=>r(t+i,y.width-t),y:t=>r(t,y.height-t),xSpeed:()=>3,ySpeed:()=>0,color:()=>`hsl(${r(0,360)}deg 100% 50%)`},{objects:()=>u()-5,radius:()=>100,x:(t,i)=>r(t+i,y.width-t),y:t=>r(t,y.height-t),xSpeed:()=>2*(Math.random()-.5),ySpeed:()=>2*(Math.random()-.5),color:()=>n()}];addEventListener("mousemove",t=>{M.x=t.clientX,M.y=t.clientY}),addEventListener("resize",t=>{y.width=innerWidth,y.height=innerHeight,d()}),addEventListener("click",t=>{o(t.clientX,t.clientY,g.x,g.y)<g.radius&&(w=!1)}),addEventListener("contextmenu",t=>{t.preventDefault(),d()}),d(),function t(){var i;m=requestAnimationFrame(t),x.clearRect(0,0,y.width,y.height),v.update(x,g)&&(cancelAnimationFrame(m),v.draw(x),setTimeout(()=>{alert(`You beat level ${b+1}!`),b<S.length-1?b+=1:b=0,d(),t()})),!0===w?(x.beginPath(),x.moveTo(100,0),x.lineTo(100,y.height),x.lineWidth=10,x.strokeStyle="#eeeeee",x.stroke(),i=x,p.forEach(t=>{t.draw(i)})):p.forEach(i=>{i.update(x,p,g,m)&&(cancelAnimationFrame(m),i.draw(x),setTimeout(()=>{alert("You lose"),d(),t()}))}),g.update(x,w,M)}()}]);